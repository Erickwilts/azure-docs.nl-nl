---
title: Azure Event Grid IoT Edge voor de module dubbele Microsoft Docs
description: Configuratie via module twee.
author: HiteshMadan
manager: rajarv
ms.author: himad
ms.reviewer: spelluru
ms.date: 10/06/2019
ms.topic: article
ms.service: event-grid
services: event-grid
ms.openlocfilehash: 5c23b9ef280a4a4e3458d279ecf060d2e3d50295
ms.sourcegitcommit: 92d42c04e0585a353668067910b1a6afaf07c709
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/28/2019
ms.locfileid: "72992143"
---
# <a name="module-twin-json-schema"></a>Module dubbele JSON-schema

Event Grid op IoT Edge integreert met het IoT Edge ecosysteem en ondersteunt het maken van onderwerpen en abonnementen via de module twee. Ook wordt de huidige status van alle onderwerpen en gebeurtenis abonnementen gerapporteerd aan de gerapporteerde eigenschappen van de module dubbele.

> [!WARNING]
> Vanwege beperkingen in het IoT Edge ecosysteem zijn alle matrix elementen in het volgende JSON-voor beeld gecodeerd als JSON-teken reeksen. Zie `EventSubscription.Filter.EventTypes` en `EventSubscription.Filter.AdvancedFilters` sleutels in het volgende voor beeld.

## <a name="desired-properties-json"></a>Gewenste eigenschappen JSON

* De waarde van elk sleutel-waardepaar in het gedeelte topics heeft precies hetzelfde JSON-schema dat wordt gebruikt voor `Topic.Properties` op de API wanneer u onderwerpen maakt.
* De waarde van elk sleutel-waardepaar in het gedeelte **EventSubscriptions** heeft precies hetzelfde JSON-schema dat wordt gebruikt voor `EventSubscription.Properties` op de API bij het maken van onderwerpen.
* Als u een onderwerp wilt verwijderen, stelt u de waarde ervan in op `null` in de gewenste eigenschappen.
* Het verwijderen van gebeurtenis abonnementen via gewenste eigenschappen wordt niet ondersteund.

```json
{
    "topics": {
        "twinTopic1": {},
        "twinTopic2": {
            "inputSchema": "customEventSchema"
        }
    },
    "eventSubscriptions": {
        "twinTopic1WebhookSub": {
            "topic": "twinTopic1",
            "retryPolicy": {
                "eventExpiryInMinutes": 120,
                "maxDeliveryAttempts": 30
            },
            "destination": {
                "endpointType": "WebHook",
                "properties": {
                    "endpointUrl": "https://localhost:4438"
                }
            },
            "filter": {
                "subjectBeginsWith": "^",
                "subjectEndsWith": "$",
                "isSubjectCaseSensitive": false,
                "includedEventTypes": "[\"et1\",\"et2\"]",
                "advancedFilters": "[{\"value\":true,\"operatorType\":\"BoolEquals\",\"key\":\"data.b\"},{\"values\":[\"\\\"\",\"c\"],    \"operatorType\":\"StringContains\",\"key\":\"data.s\"}]"
            }
        },
        "twinTopic2EdgeHubSub": {
            "topic": "twinTopic2",
            "deliveryPolicy": {
                "approxBatchSizeInBytes": 200000,
                "maxEventsPerBatch": 25
            },
            "destination": {
                "endpointType": "EdgeHub",
                "properties": {
                    "outputName": "twinTopic2EdgeHubSub"
                }
            },
            "filter": {
                "advancedFilters": "[{\"value\":true,\"operatorType\":\"BoolEquals\",\"key\":\"dAt\\\"A.a\"},{\"values\":[\"\\\"\",    \"c\"],\"operatorType\":\"StringContains\",\"key\":\"dAt\\\"A.a\"}]"
            }
        }
    }
}
```

## <a name="reported-properties-json"></a>Gerapporteerde eigenschappen JSON

De sectie gerapporteerde eigenschappen van de module dubbele bevat de volgende informatie:

* De set met onderwerpen en abonnementen die voor komen in de Store van de module
* Er zijn fouten opgetreden bij het maken van de gewenste onderwerpen/gebeurtenis abonnementen
* Eventuele opstart fouten (zoals de gewenste eigenschappen JSON parseren is mislukt)

```json
{
    "topics": {
        "twinTopic1": {},
        "twinTopic2": {
            "inputSchema": "customEventSchema"
        }
    },
    "eventSubscriptions": {
        "twinTopic1WebhookSub": {
            "topic": "twinTopic1",
            "retryPolicy": {
                "eventExpiryInMinutes": 120,
                "maxDeliveryAttempts": 30
            },
            "destination": {
                "endpointType": "WebHook",
                "properties": {
                    "endpointUrl": "https://localhost:4438"
                }
            },
            "filter": {
                "subjectBeginsWith": "^",
                "subjectEndsWith": "$",
                "isSubjectCaseSensitive": false,
                "includedEventTypes": "[\"et1\",\"et2\"]",
                "advancedFilters": "[{\"value\":true,\"operatorType\":\"BoolEquals\",\"key\":\"data.b\"},{\"values\":[\"\\\"\",\"c\"],    \"operatorType\":\"StringContains\",\"key\":\"data.s\"}]"
            }
        },
        "twinTopic2EdgeHubSub": {
            "topic": "twinTopic2",
            "deliveryPolicy": {
                "approxBatchSizeInBytes": 200000,
                "maxEventsPerBatch": 25
            },
            "destination": {
                "endpointType": "EdgeHub",
                "properties": {
                    "outputName": "twinTopic2EdgeHubSub"
                }
            },
            "filter": {
                "advancedFilters": "[{\"value\":true,\"operatorType\":\"BoolEquals\",\"key\":\"dAt\\\"A.a\"},{\"values\":[\"\\\"\",    \"c\"],\"operatorType\":\"StringContains\",\"key\":\"dAt\\\"A.a\"}]"
            }
        }
    },
    "errors": {
        "bootupMessage": "",
        "bootupException": "",
        "topics": {},
        "eventSubscriptions": {
            "twinTopic1EventGridUserTopicSub": "HttpStatusCode='BadRequest' ErrorCode='InvalidDestination' Message='EventSubscription.Properties.Destination failed validation. Reason: EndpointUrl must target the /api/events API of Azure Event Grid in the cloud..'"
        }
    }
}
```
